# 音频处理功能教程

为了提供更舒适的背景白噪音体验，本项目内置了基于 Web Audio API 的实时音频处理功能。

## 1. 功能概述

点击控制栏上的 **"🎚️" (音频处理)** 按钮即可开启或关闭此功能。开启后，按钮会高亮显示。

> （小声）亲测开启前晚上睡觉时戴耳机听，凌晨两三点被大家吵醒了，开启后除了 mzk 一嗓子嗷醒我，别的时候睡得挺香的（

该功能主要包含两个处理模块：
1.  **动态限幅 (Compressor/Limiter)**
2.  **人声衰减 (Vocal Reducer)**

## 2. 详细技术原理

### 动态限幅 (Dynamics Compressor)
*   **目的**：防止音量突然过大，平滑音频动态范围。
*   **参数设置**：
    *   阈值 (Threshold): -40dB
    *   比率 (Ratio): 20:1
    *   启动时间 (Attack): 0.003s
*   **效果**：当视频中出现突然的响声时，系统会瞬间压低音量，保护您的听力，使背景音更加平稳柔和。

### 人声衰减 (Vocal Reduction)
*   **目的**：降低视频中的人声对话音量，使其更像纯粹的背景白噪音 (ASMR)，减少对您工作的干扰。
*   **实现方式**：使用双重峰值滤波器 (Peaking Filter) 针对人声频率范围进行衰减。
    *   **滤波器 1**: 中心频率 800Hz (针对人声基频)，衰减 -8dB。
    *   **滤波器 2**: 中心频率 2000Hz (针对人声泛音)，衰减 -8dB。
*   **效果**：人声会变得“闷”且遥远，而环境音（如键盘声、雨声）则保留得相对清晰。

## 3. 使用建议

*   **开启场景**：
    *   您正在进行深度工作或学习，需要背景音但不想被对话内容分心。
    *   原视频音量动态过大，有时太吵有时太轻。
*   **关闭场景**：
    *   您想清晰地听到角色的对话内容。
    *   您正在休息，想把视频作为剧情观看。

## 4. 注意事项

*   该功能完全在**本地浏览器**中运行，不会上传任何音频数据。
*   由于浏览器安全策略，音频处理必须在您与页面进行**第一次交互**（点击或按键）后才能生效。
*   开启音频处理可能会略微增加 CPU 占用，但在现代设备上通常可以忽略不计。
